共享内存分为两种，一种是共享文件页面，有tmpfs实现,另一种是共享匿名页面，由shmem实现，

tmpfs，在相同启动时初始化

```c
kernel_init
    ->kernel_init_freeable
        ->do_basic_setup
            ->do_initcalls
                ->shmem_init
```

对于匿名共享页面，在调用mmap时

```c
SYSCALL_DEFINE6(mmap
    ->ksys_mmap_pgoff
        ->vm_mmap_pgoff
            ->do_mmap
                ->mmap_region
                    ->shmem_zero_setup  //vma->vm_ops = &shmem_anon_vm_ops;
```




